{"ast":null,"code":"var _jsxFileName = \"/Users/clementd/Documents/GitHub/mrp_system/client/src/components/addnewproductbatch.jsx\",\n  _s = $RefreshSig$();\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Stack from \"@mui/material/Stack\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport DropFileInput from \"./drop-file-input/drop-file-input\";\nimport Logo from \"../assets/ALL_VASCULAR_Colour.png\";\nimport { useLocation } from \"react-router-dom\";\nimport { onProdBatchSubmit, onProdBatchUpdate, onProdBatchUpdateRm, onRmnProdSubmit, showRmnQty, onRmnProdUpdate } from \"../api/product\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction returnList(title) {\n  showRmnQty(title.lot_no).then(prm => {\n    return prm.data;\n  });\n}\nfunction AddNewForm() {\n  _s();\n  const location = useLocation();\n  let title = location.state;\n  const options = [\"Choose from dropdown\", \"Pending Sterilisation\", \"Sterilised\", \"Final Release\"];\n  const addFields = () => {\n    let object = {\n      rmn: \"\",\n      rmnqty: \"\"\n    };\n    setFormFields([...formFields, object]);\n    console.log(\"add fields\", formFields);\n  };\n  const removeFields = index => {\n    let data = [...formFields];\n    data.splice(index, 1);\n    setFormFields(data);\n  };\n  const [string, setString] = useState({\n    name: title.product_name,\n    id: title.product_id,\n    lotno: title.lot_no,\n    qty: title.product_qty,\n    edate: title.expiry_date,\n    status: title.status,\n    notes: title.notes\n  });\n  const [formFields, setFormFields] = useState([]);\n  useEffect(() => {\n    showRmnQty(title.lot_no).then(prm => {\n      //setFormFields(prm.data)\n      console.log(\"this is the prm data\", prm.data);\n      setFormFields(prm.data);\n\n      // prm.data[i]\n      // object.rmn = showRmnQty(title.lot_no).rmn[i]\n      // object.rmnqty =\n    });\n  }, []);\n  useEffect(() => {\n    console.log(string);\n  }, [string]);\n  useEffect(() => {\n    console.log(\"FormFields, \", formFields);\n  }, [formFields]);\n  const onChange = e => {\n    setString({\n      ...string,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleFormChangeInt = (index, event) => {\n    let data = [...formFields];\n    data[index][event.target.name] = parseInt(event.target.value);\n    setFormFields(data);\n  };\n  const onChangeInt = e => {\n    setString({\n      ...string,\n      [e.target.name]: parseInt(e.target.value)\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      let formFieldsTest = formFields.map(o => {\n        return {\n          ...o,\n          lotno: parseInt(string.lotno)\n        };\n      });\n      await onProdBatchSubmit(string); //id, lotno, status, notes, edate, qty\n      console.log(\"Success\");\n      await onProdBatchUpdateRm(formFields); //string\n      console.log(\"Success2\");\n      await onRmnProdSubmit(formFields, string.lotno); //rmn, rmnqty, lotno\n      console.log(\"Success3\");\n      setString({\n        id: title.product_id,\n        lotno: \"\",\n        qty: \"\",\n        edate: \"\",\n        status: \"\",\n        notes: null\n      });\n      setFormFields([]);\n    } catch (error) {\n      console.log(error.response.data.errors[0].msg);\n    }\n  };\n  const handleUpdate = async event => {\n    event.preventDefault();\n    try {\n      await onProdBatchUpdate(string);\n      await onRmnProdUpdate(formFields, string.lotno);\n      await onProdBatchUpdateRm(formFields); //string\n\n      setString({\n        id: title.product_id,\n        lotno: \"\",\n        qty: \"\",\n        edate: \"\",\n        status: \"\",\n        notes: null\n      });\n      setFormFields([]);\n    } catch (error) {\n      console.log(error.response.data.errors[0].msg);\n    }\n  };\n  const onFileChange = files => {\n    console.log(files);\n  };\n  const componentRef = useRef();\n  const styles = {\n    label: {\n      height: \"10cm\"\n    },\n    table: {\n      border: \"1px solid\",\n      padding: \"10px\",\n      alignItems: \"center\",\n      width: \"10cm\",\n      height: \"auto\"\n    },\n    th: {\n      border: \"1px solid\",\n      padding: \"10px\",\n      backgroundColor: \"#f5f5f5\",\n      textAlign: \"left\"\n    },\n    td: {\n      border: \"1px solid\",\n      padding: \"10px\"\n    },\n    td_1: {\n      padding: \"10px\",\n      alignItems: \"center\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    thead: {\n      borderTop: \"1px solid\",\n      borderLeft: \"1px solid\",\n      borderRight: \"1px solid\",\n      padding: \"10px\",\n      backgroundColor: \"#f5f5f5\",\n      textAlign: \"center\",\n      width: \"10cm\",\n      height: \"auto\"\n    },\n    tbody: {\n      width: \"10cm\",\n      padding: \"10px\",\n      borderTop: \"1px solid\",\n      borderLeft: \"1px solid\",\n      borderRight: \"1px solid\",\n      alignItems: \"center\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"auto\"\n    }\n  };\n  class ComponentToPrint extends React.Component {\n    render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          padding: \"20px\",\n          marginLeft: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: Logo,\n          style: {\n            width: 115,\n            height: 50,\n            float: \"left\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.thead,\n            children: \"Raw Material/Part\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            style: styles.table,\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: \"data 1 INSERT ROUTE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"RMN\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: \"data 2 INSERT ROUTE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Batch/Lot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: \"data 3 INSERT ROUTE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Date Opened\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Expiry Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: \"data 1 INSERT ROUTE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          padding: \"20px\"\n        },\n        children: string.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formGridProdNumber\",\n          style: {\n            textAlign: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            sm: 2,\n            children: \"Product Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"integer\",\n            value: string.id,\n            name: \"id\",\n            disabled: \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formGridEmail\",\n          style: {\n            textAlign: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            sm: 2,\n            children: \"Lot Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"lotno\",\n            type: \"text\",\n            value: string.lotno,\n            onChange: e => onChange(e),\n            placeholder: \"Enter lot no.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formGridQr\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        style: {\n          paddingBottom: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formGridQty\",\n          style: {\n            textAlign: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"qty\",\n            type: \"number\",\n            value: string.qty,\n            onChange: e => onChangeInt(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formGridExpiry\",\n          style: {\n            textAlign: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Expiry Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"edate\",\n            value: string.edate,\n            onChange: e => onChange(e),\n            placeholder: \"mm/dd/yyyy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formGridStatus\",\n          style: {\n            textAlign: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            name: \"status\",\n            value: string.status,\n            onChange: e => onChange(e),\n            children: options.map(value => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: value,\n              children: value\n            }, value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        style: {\n          maxWidth: \"100%\",\n          textAlign: \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"notes\",\n          children: \"Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          class: \"form-control\",\n          id: \"notes\",\n          name: \"notes\",\n          rows: \"4\",\n          value: string.notes,\n          onChange: e => onChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          padding: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          style: {\n            padding: \"10px\"\n          },\n          children: \"Raw Materials Used\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), formFields.map((form, index) => {\n          console.log(\"form is\", form[\"rmn\"]);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                paddingBottom: \"10px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                controlId: \"formRMNUsed\",\n                style: {\n                  textAlign: \"left\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  sm: 2,\n                  children: \"RMN\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  value: form[\"rmn\"]\n                  //   placeholder=\"Enter RMN\"\n                  ,\n                  onChange: event => handleFormChangeInt(index, event),\n                  name: \"rmn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Col,\n                controlId: \"formRMNQtyUsed\",\n                style: {\n                  textAlign: \"left\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  sm: 2,\n                  children: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  value: form[\"qty\"],\n                  placeholder: \"Enter Quantity\",\n                  onChange: event => handleFormChangeInt(index, event),\n                  name: \"qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  style: {\n                    alignContent: \"center\",\n                    paddingTop: \"4ch\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"bg-danger text border-danger\",\n                    onClick: () => removeFields(index),\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            style: {\n              textAlign: \"center\",\n              paddingTop: \"4ch\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: addFields,\n              children: \"Add More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          padding: \"10px\",\n          marginBottom: \"40px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formFile\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Attach Relevant forms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DropFileInput, {\n            onFileChange: files => onFileChange(files)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      className: \"float-right\",\n      gap: 1,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: \"px-5\",\n        variant: \"secondary\",\n        type: \"submit\",\n        size: \"sm\",\n        onClick: handleUpdate,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"px-5\",\n        variant: \"primary\",\n        type: \"submit\",\n        onClick: handleSubmit,\n        size: \"sm\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(ComponentToPrint, {\n        ref: componentRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n}\n_s(AddNewForm, \"wegdN7/rxsG0h7W11a71SJ8shhg=\", false, function () {\n  return [useLocation];\n});\n_c = AddNewForm;\nexport default AddNewForm;\nvar _c;\n$RefreshReg$(_c, \"AddNewForm\");","map":{"version":3,"names":["Button","Col","Form","Row","Stack","React","useState","useRef","useEffect","DropFileInput","Logo","useLocation","onProdBatchSubmit","onProdBatchUpdate","onProdBatchUpdateRm","onRmnProdSubmit","showRmnQty","onRmnProdUpdate","returnList","title","lot_no","then","prm","data","AddNewForm","location","state","options","addFields","object","rmn","rmnqty","setFormFields","formFields","console","log","removeFields","index","splice","string","setString","name","product_name","id","product_id","lotno","qty","product_qty","edate","expiry_date","status","notes","onChange","e","target","value","handleFormChangeInt","event","parseInt","onChangeInt","handleSubmit","preventDefault","formFieldsTest","map","o","error","response","errors","msg","handleUpdate","onFileChange","files","componentRef","styles","label","height","table","border","padding","alignItems","width","th","backgroundColor","textAlign","td","td_1","display","flexDirection","thead","borderTop","borderLeft","borderRight","tbody","ComponentToPrint","Component","render","marginLeft","float","paddingBottom","maxWidth","form","alignContent","paddingTop","marginBottom"],"sources":["/Users/clementd/Documents/GitHub/mrp_system/client/src/components/addnewproductbatch.jsx"],"sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Stack from \"@mui/material/Stack\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport DropFileInput from \"./drop-file-input/drop-file-input\";\nimport Logo from \"../assets/ALL_VASCULAR_Colour.png\";\nimport { useLocation } from \"react-router-dom\";\nimport {\n  onProdBatchSubmit,\n  onProdBatchUpdate,\n  onProdBatchUpdateRm,\n  onRmnProdSubmit,\n  showRmnQty,\n  onRmnProdUpdate,\n} from \"../api/product\";\n\nfunction returnList(title) {\n  showRmnQty(title.lot_no).then((prm) => {\n    return prm.data;\n  });\n}\n\nfunction AddNewForm() {\n  const location = useLocation();\n  let title = location.state;\n\n  const options = [\n    \"Choose from dropdown\",\n    \"Pending Sterilisation\",\n    \"Sterilised\",\n    \"Final Release\",\n  ];\n\n  const addFields = () => {\n    let object = {\n      rmn: \"\",\n      rmnqty: \"\",\n    };\n\n    setFormFields([...formFields, object]);\n    console.log(\"add fields\", formFields);\n  };\n\n  const removeFields = (index) => {\n    let data = [...formFields];\n    data.splice(index, 1);\n    setFormFields(data);\n  };\n\n  const [string, setString] = useState({\n    name: title.product_name,\n    id: title.product_id,\n    lotno: title.lot_no,\n    qty: title.product_qty,\n    edate: title.expiry_date,\n    status: title.status,\n    notes: title.notes,\n  });\n\n  const [formFields, setFormFields] = useState([]);\n\n  useEffect(() => {\n    showRmnQty(title.lot_no).then((prm) => {\n      //setFormFields(prm.data)\n      console.log(\"this is the prm data\", prm.data);\n      setFormFields(prm.data);\n\n      // prm.data[i]\n      // object.rmn = showRmnQty(title.lot_no).rmn[i]\n      // object.rmnqty =\n    });\n  }, []);\n\n  useEffect(() => {\n    console.log(string);\n  }, [string]);\n\n  useEffect(() => {\n    console.log(\"FormFields, \", formFields);\n  }, [formFields]);\n\n  const onChange = (e) => {\n    setString({ ...string, [e.target.name]: e.target.value });\n  };\n\n  const handleFormChangeInt = (index, event) => {\n    let data = [...formFields];\n    data[index][event.target.name] = parseInt(event.target.value);\n    setFormFields(data);\n  };\n\n  const onChangeInt = (e) => {\n    setString({ ...string, [e.target.name]: parseInt(e.target.value) });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      let formFieldsTest = formFields.map((o) => {\n        return { ...o, lotno: parseInt(string.lotno) };\n      });\n      await onProdBatchSubmit(string); //id, lotno, status, notes, edate, qty\n      console.log(\"Success\");\n      await onProdBatchUpdateRm(formFields); //string\n      console.log(\"Success2\");\n      await onRmnProdSubmit(formFields, string.lotno); //rmn, rmnqty, lotno\n      console.log(\"Success3\");\n\n      setString({\n        id: title.product_id,\n        lotno: \"\",\n        qty: \"\",\n        edate: \"\",\n        status: \"\",\n        notes: null,\n      });\n\n      setFormFields([]);\n    } catch (error) {\n      console.log(error.response.data.errors[0].msg);\n    }\n  };\n\n  const handleUpdate = async (event) => {\n    event.preventDefault();\n    try {\n      await onProdBatchUpdate(string);\n      await onRmnProdUpdate(formFields, string.lotno);\n      await onProdBatchUpdateRm(formFields); //string\n\n      setString({\n        id: title.product_id,\n        lotno: \"\",\n        qty: \"\",\n        edate: \"\",\n        status: \"\",\n        notes: null,\n      });\n      setFormFields([]);\n    } catch (error) {\n      console.log(error.response.data.errors[0].msg);\n    }\n  };\n\n  const onFileChange = (files) => {\n    console.log(files);\n  };\n\n  const componentRef = useRef();\n\n  const styles = {\n    label: {\n      height: \"10cm\",\n    },\n    table: {\n      border: \"1px solid\",\n      padding: \"10px\",\n      alignItems: \"center\",\n      width: \"10cm\",\n      height: \"auto\",\n    },\n    th: {\n      border: \"1px solid\",\n      padding: \"10px\",\n      backgroundColor: \"#f5f5f5\",\n      textAlign: \"left\",\n    },\n    td: {\n      border: \"1px solid\",\n      padding: \"10px\",\n    },\n    td_1: {\n      padding: \"10px\",\n      alignItems: \"center\",\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n    thead: {\n      borderTop: \"1px solid\",\n      borderLeft: \"1px solid\",\n      borderRight: \"1px solid\",\n      padding: \"10px\",\n      backgroundColor: \"#f5f5f5\",\n      textAlign: \"center\",\n      width: \"10cm\",\n      height: \"auto\",\n    },\n    tbody: {\n      width: \"10cm\",\n      padding: \"10px\",\n      borderTop: \"1px solid\",\n      borderLeft: \"1px solid\",\n      borderRight: \"1px solid\",\n      alignItems: \"center\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"auto\",\n    },\n  };\n\n  class ComponentToPrint extends React.Component {\n    render() {\n      return (\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: \"20px\",\n            marginLeft: \"10px\",\n          }}\n        >\n          <img src={Logo} style={{ width: 115, height: 50, float: \"left\" }} />\n          <div>\n            <th style={styles.thead}>Raw Material/Part</th>\n            <table style={styles.table}>\n              <tr>\n                <th style={styles.th}>Name</th>\n                <td style={styles.td}>data 1 INSERT ROUTE</td>\n              </tr>\n              <tr>\n                <th style={styles.th}>RMN</th>\n                <td style={styles.td}>data 2 INSERT ROUTE</td>\n              </tr>\n              <tr>\n                <th style={styles.th}>Batch/Lot</th>\n                <td style={styles.td}>data 3 INSERT ROUTE</td>\n              </tr>\n              <tr>\n                <th style={styles.th}>Date Opened</th>\n                <td style={styles.td}></td>\n              </tr>\n              <tr>\n                <th style={styles.th}>Expiry Date</th>\n                <td style={styles.td}>data 1 INSERT ROUTE</td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  return (\n    \n    <div>\n      <Form onSubmit={handleSubmit}>\n        <h5 style={{ padding: \"20px\" }}>{string.name}</h5>\n        <Row className=\"mb-3\">\n          <Form.Group\n            as={Col}\n            controlId=\"formGridProdNumber\"\n            style={{ textAlign: \"left\" }}\n          >\n            <Form.Label sm={2}>Product Number</Form.Label>\n            <Form.Control\n              type=\"integer\"\n              value={string.id}\n              name=\"id\"\n              disabled=\"true\"\n            />\n          </Form.Group>\n\n          <Form.Group\n            as={Col}\n            controlId=\"formGridEmail\"\n            style={{ textAlign: \"left\" }}\n          >\n            <Form.Label sm={2}>Lot Number</Form.Label>\n            <Form.Control\n              name=\"lotno\"\n              type=\"text\"\n              value={string.lotno}\n              onChange={(e) => onChange(e)}\n              placeholder=\"Enter lot no.\"\n            />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"formGridQr\">\n          </Form.Group>\n        </Row>\n\n        <Row className=\"mb-3\" style={{ paddingBottom: \"20px\" }}>\n          <Form.Group\n            as={Col}\n            controlId=\"formGridQty\"\n            style={{ textAlign: \"left\" }}\n          >\n            <Form.Label>Quantity</Form.Label>\n            <Form.Control\n              name=\"qty\"\n              type=\"number\"\n              value={string.qty}\n              onChange={(e) => onChangeInt(e)}\n            />\n          </Form.Group>\n\n          <Form.Group\n            as={Col}\n            controlId=\"formGridExpiry\"\n            style={{ textAlign: \"left\" }}\n          >\n            <Form.Label>Expiry Date</Form.Label>\n            <Form.Control\n              name=\"edate\"\n              value={string.edate}\n              onChange={(e) => onChange(e)}\n              placeholder=\"mm/dd/yyyy\"\n            />\n          </Form.Group>\n\n          <Form.Group\n            as={Col}\n            controlId=\"formGridStatus\"\n            style={{ textAlign: \"left\" }}\n          >\n            <Form.Label>Status</Form.Label>\n            <Form.Select\n              name=\"status\"\n              value={string.status}\n              onChange={(e) => onChange(e)}\n            >\n              {options.map((value) => (\n                <option value={value} key={value}>\n                  {value}\n                </option>\n              ))}\n            </Form.Select>\n          </Form.Group>\n        </Row>\n        <div class=\"form-group\" style={{ maxWidth: \"100%\", textAlign: \"left\" }}>\n              <label for=\"notes\">Notes</label>\n              <textarea\n                class=\"form-control\"\n                id=\"notes\"\n                name=\"notes\"\n                rows=\"4\"\n                value={string.notes}\n                onChange={(e) => onChange(e)}\n              ></textarea>\n            </div>\n        <hr></hr>\n        <Row style={{ padding: \"10px\" }}>\n          <Form.Label style={{ padding: \"10px\" }}>\n            Raw Materials Used\n          </Form.Label>\n          {formFields.map((form, index) => {\n            console.log(\"form is\", form[\"rmn\"]);\n            return (\n              <div key={index}>\n                <Row style={{ paddingBottom: \"10px\" }}>\n                  <Col sm={1}></Col>\n                  <Form.Group\n                    as={Col}\n                    controlId=\"formRMNUsed\"\n                    style={{ textAlign: \"left\" }}\n                  >\n                    <Form.Label sm={2}>RMN</Form.Label>\n                    <Form.Control\n                      type=\"number\"\n                      value={form[\"rmn\"]}\n                      //   placeholder=\"Enter RMN\"\n                      onChange={(event) => handleFormChangeInt(index, event)}\n                      name=\"rmn\"\n                    />\n                  </Form.Group>\n                  <Form.Group\n                    as={Col}\n                    controlId=\"formRMNQtyUsed\"\n                    style={{ textAlign: \"left\" }}\n                  >\n                    <Form.Label sm={2}>Quantity</Form.Label>\n                    <Form.Control\n                      type=\"number\"\n                      value={form[\"qty\"]}\n                      placeholder=\"Enter Quantity\"\n                      onChange={(event) => handleFormChangeInt(index, event)}\n                      name=\"qty\"\n                    />\n                  </Form.Group>\n                  <Col>\n                    <Form.Group\n                      style={{ alignContent: \"center\", paddingTop: \"4ch\" }}\n                    >\n                      <Button\n                        className=\"bg-danger text border-danger\"\n                        onClick={() => removeFields(index)}\n                      >\n                        Remove\n                      </Button>\n                    </Form.Group>\n                  </Col>\n                </Row>\n              </div>\n            );\n          })}\n          <Row>\n            <Form.Group style={{ textAlign: \"center\", paddingTop: \"4ch\" }}>\n              <Button onClick={addFields}>Add More</Button>\n            </Form.Group>\n          </Row>\n        </Row>\n\n        <Row style={{ padding: \"10px\", marginBottom: \"40px\" }}>\n        \n          <Form.Group controlId=\"formFile\">\n            <Form.Label>Attach Relevant forms</Form.Label>\n            <DropFileInput onFileChange={(files) => onFileChange(files)} />\n          </Form.Group>\n        </Row>\n      </Form>\n      <Stack className=\"float-right\" gap={1}>\n        <Button\n          className=\"px-5\"\n          variant=\"secondary\"\n          type=\"submit\"\n          size=\"sm\"\n          onClick={handleUpdate}\n        >\n          Update\n        </Button>\n        <Button\n          className=\"px-5\"\n          variant=\"primary\"\n          type=\"submit\"\n          onClick={handleSubmit}\n          size=\"sm\"\n        >\n          Submit\n        </Button>\n      </Stack>\n\n      <div style={{ display: \"none\" }}>\n        <ComponentToPrint ref={componentRef} />\n      </div>\n    </div>\n  );\n}\n\nexport default AddNewForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}