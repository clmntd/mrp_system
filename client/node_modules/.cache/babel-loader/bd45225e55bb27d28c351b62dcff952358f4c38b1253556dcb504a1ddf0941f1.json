{"ast":null,"code":"var _jsxFileName = \"/Users/clementd/Documents/GitHub/mrp_system/client/src/components/tables/productlistTable.jsx\",\n  _s = $RefreshSig$();\n//import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Box, Button } from \"@mui/material\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteIcon from \"@mui/icons-material/DeleteOutlined\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport CancelIcon from \"@mui/icons-material/Close\";\nimport { DataGrid, GridActionsCellItem, GridToolbar, GridRowModes, GridToolbarContainer } from \"@mui/x-data-grid\";\nimport { styled } from \"@mui/material/styles\";\nimport moment from \"moment\";\nimport { Redirect, Link, useNavigate } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialRows = [{\n  product_id: \"220203\",\n  qty: 1,\n  product_name: \"Nusil Si Adhesive*\",\n  expiryDate: \"26/01/2023\",\n  id: 12\n}, {\n  product_id: \"221002\",\n  qty: 3,\n  product_name: \"Nusil Si Adhesive*\",\n  expiryDate: \"06/10/2023\",\n  id: 11\n}, {\n  product_id: \"221103\",\n  qty: 2,\n  product_name: \"Nusil Si Adhesive*\",\n  expiryDate: \"01/06/2023\",\n  id: 10\n}, {\n  product_id: \"211001\",\n  qty: 1,\n  product_name: \"7mm ePTFE Graft 80cm roll\",\n  expiryDate: null,\n  id: 9\n}, {\n  product_id: \"220709\",\n  qty: 1,\n  product_name: \"7mm ePTFE Graft 80cm roll (sterilised)\",\n  expiryDate: null,\n  id: 8\n}, {\n  product_id: \"22070402\",\n  qty: 0,\n  product_name: \"Cut ePTFE Graft\",\n  expiryDate: null,\n  id: 7\n}, {\n  product_id: \"210703\",\n  qty: 6,\n  product_name: \"Polyester Felt\",\n  expiryDate: null,\n  id: 6\n}, {\n  product_id: \"220705\",\n  qty: 10,\n  product_name: \"Polyester Felt\",\n  expiryDate: null,\n  id: 5\n}, {\n  product_id: \"17032803\",\n  qty: 275,\n  product_name: \"Infection Cuff\",\n  expiryDate: null,\n  id: 4\n}, {\n  product_id: \"220716\",\n  qty: 0,\n  product_name: \"Liquid Si Elastomer\",\n  expiryDate: \"15/07/2023\",\n  id: 3\n}, {\n  product_id: \"220802\",\n  qty: 2,\n  product_name: \"Base Tube\",\n  expiryDate: null,\n  id: 2\n}, {\n  product_id: \"220909\",\n  qty: 103,\n  product_name: \"Overlay\",\n  expiryDate: null,\n  id: 1\n}];\nconst StyledGridOverlay = styled(\"div\")(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\",\n    \"& .ant-empty-img-1\": {\n      fill: theme.palette.mode === \"light\" ? \"#aeb8c2\" : \"#262626\"\n    },\n    \"& .ant-empty-img-2\": {\n      fill: theme.palette.mode === \"light\" ? \"#f5f5f7\" : \"#595959\"\n    },\n    \"& .ant-empty-img-3\": {\n      fill: theme.palette.mode === \"light\" ? \"#dce0e6\" : \"#434343\"\n    },\n    \"& .ant-empty-img-4\": {\n      fill: theme.palette.mode === \"light\" ? \"#fff\" : \"#1c1c1c\"\n    },\n    \"& .ant-empty-img-5\": {\n      fillOpacity: theme.palette.mode === \"light\" ? \"0.8\" : \"0.08\",\n      fill: theme.palette.mode === \"light\" ? \"#f5f5f5\" : \"#fff\"\n    }\n  };\n});\n_c = StyledGridOverlay;\nfunction CustomNoRowsOverlay() {\n  return /*#__PURE__*/_jsxDEV(StyledGridOverlay, {\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"120\",\n      height: \"100\",\n      viewBox: \"0 0 184 152\",\n      \"aria-hidden\": true,\n      focusable: \"false\",\n      children: /*#__PURE__*/_jsxDEV(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        children: [/*#__PURE__*/_jsxDEV(\"g\", {\n          transform: \"translate(24 31.67)\",\n          children: [/*#__PURE__*/_jsxDEV(\"ellipse\", {\n            className: \"ant-empty-img-5\",\n            cx: \"67.797\",\n            cy: \"106.89\",\n            rx: \"67.797\",\n            ry: \"12.668\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            className: \"ant-empty-img-1\",\n            d: \"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            className: \"ant-empty-img-2\",\n            d: \"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            className: \"ant-empty-img-3\",\n            d: \"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          className: \"ant-empty-img-3\",\n          d: \"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"ant-empty-img-4\",\n          transform: \"translate(149.65 15.383)\",\n          children: [/*#__PURE__*/_jsxDEV(\"ellipse\", {\n            cx: \"20.654\",\n            cy: \"3.167\",\n            rx: \"2.849\",\n            ry: \"2.815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 1\n      },\n      children: \"No Rows\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_c2 = CustomNoRowsOverlay;\nfunction EditToolbar(props) {\n  const {\n    setRows,\n    setRowModesModel\n  } = props;\n  const handleClick = () => {\n    const id = 0;\n    setRows(oldRows => [...oldRows, {\n      id,\n      product_qty: \"\",\n      product_name: \"\",\n      isNew: true\n    }]);\n    setRowModesModel(oldModel => ({\n      ...oldModel,\n      [id]: {\n        mode: GridRowModes.Edit,\n        fieldToFocus: \"name\"\n      }\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(GridToolbarContainer, {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 42\n      }, this),\n      onClick: handleClick,\n      children: \"Add record\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n}\n_c3 = EditToolbar;\nEditToolbar.propTypes = {\n  setRowModesModel: PropTypes.func.isRequired,\n  setRows: PropTypes.func.isRequired\n};\nexport default function ColumnTypesGrid() {\n  _s();\n  const [rowModesModel, setRowModesModel] = React.useState({});\n  const navigate = useNavigate();\n  const [tableData, setTableData] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:3002/product/view\").then(data => data.json()).then(data => {\n      for (let i = 0; i < data.length; i++) {\n        var obj = data[i];\n        Object.assign(obj, {\n          [\"id\"]: i\n        });\n        data[i] = obj;\n        initialRows[i] = obj;\n      }\n      setTableData(data);\n    });\n  }, []);\n  const [rows, setRows] = React.useState(initialRows);\n  const handleRowEditStart = (params, event) => {\n    event.defaultMuiPrevented = true;\n  };\n  const handleRowEditStop = (params, event) => {\n    event.defaultMuiPrevented = true;\n  };\n  const handleEditClick = id => () => {\n    console.log(\"edit \" + id);\n    setRowModesModel({\n      ...rowModesModel,\n      [id]: {\n        mode: GridRowModes.Edit\n      }\n    });\n  };\n  const handleSaveClick = id => () => {\n    console.log(\"save \" + id);\n    setRowModesModel({\n      ...rowModesModel,\n      [id]: {\n        mode: GridRowModes.View\n      }\n    });\n  };\n  const handleDeleteClick = id => () => {\n    console.log(\"delete \" + id);\n    console.log(rows.at(id));\n    setRows(rows.filter(row => row.id !== id));\n  };\n  const handleCancelClick = id => () => {\n    setRowModesModel({\n      ...rowModesModel,\n      [id]: {\n        mode: GridRowModes.View,\n        ignoreModifications: true\n      }\n    });\n    const editedRow = rows.find(row => row.product_id === id);\n    if (editedRow.isNew) {\n      setRows(rows.filter(row => row.product_id !== id));\n    }\n  };\n  const processRowUpdate = newRow => {\n    const updatedRow = {\n      ...newRow,\n      isNew: false\n    };\n    setRows(rows.map(row => row.product_id === newRow.product_id ? updatedRow : row));\n    return updatedRow;\n  };\n  const [tableData2, setTableData2] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:3002/productlot/view/\").then(data => data.json()).then(data => {\n      for (let i = 0; i < data.length; i++) {\n        var obj = data[i];\n        Object.assign(obj, {\n          [\"id\"]: i\n        });\n        delete Object.assign(obj, {\n          [\"id\"]: obj[\"notes\"]\n        })[\"notes\"];\n        delete Object.assign(obj, {\n          [\"id\"]: obj[\"lot_no\"]\n        })[\"lot_no\"];\n        data[i] = obj;\n      }\n\n      // let item1 = tableData2.filter((item) => item.product_id === \"22217\");\n      // let total = 0;\n      // for (let i = 0; i < item1.length; i++) {\n      //   total += item1[i].qty;\n      // }\n\n      setTableData2(data);\n    });\n  }, []);\n  function totalQty(params) {\n    const currentDate = moment();\n    let item1 = tableData2.filter(item => item.product_id === params.row.product_id\n    // (item) => item.status === \"Final Release\"\n    );\n\n    let item2 = item1.filter(item => item.status === \"Final Release\");\n    let item3 = item2.filter(item => moment(item.expiry_date, \"DD/MM/YYYY\").isAfter(currentDate));\n    let total = 0;\n    for (let i = 0; i < item3.length; i++) {\n      total += item3[i].qty;\n    }\n    return total;\n  }\n  const columns = [{\n    field: \"product_id\",\n    headerName: \"Product No.\",\n    description: \"Product number\",\n    width: 200,\n    headerAlign: \"center\",\n    align: \"center\",\n    renderCell: params => /*#__PURE__*/_jsxDEV(\"a\", {\n      style: {\n        color: \"#0d6efd\"\n      },\n      onClick: e => navigate(`/product/${params.value}`, {\n        state: {\n          product_name: params.row.product_name,\n          product_id: params.row.product_id\n        }\n      }),\n      children: params.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }, this)\n  }, {\n    headerAlign: \"center\",\n    align: \"center\",\n    field: \"product_name\",\n    headerName: \"Product Name\",\n    width: 320,\n    editable: true\n  }, {\n    field: \"variant\",\n    headerName: \"Variant\",\n    width: 130,\n    headerAlign: \"center\",\n    align: \"center\",\n    editable: true\n  }, {\n    field: \"total\",\n    headerName: \"Total Quantity\",\n    type: \"number\",\n    width: 130,\n    headerAlign: \"center\",\n    align: \"center\",\n    editable: true,\n    valueGetter: params => {\n      return totalQty(params);\n    }\n  }, {\n    field: \"notes\",\n    headerName: \"Notes\",\n    sortable: false,\n    width: 180,\n    editable: true,\n    headerAlign: \"center\",\n    align: \"center\"\n  }, {\n    field: \"actions\",\n    type: \"actions\",\n    headerName: \"Actions\",\n    width: 100,\n    cellClassName: \"actions\",\n    getActions: _ref2 => {\n      var _rowModesModel$id;\n      let {\n        id\n      } = _ref2;\n      const isInEditMode = ((_rowModesModel$id = rowModesModel[id]) === null || _rowModesModel$id === void 0 ? void 0 : _rowModesModel$id.mode) === GridRowModes.Edit;\n      if (isInEditMode) {\n        return [/*#__PURE__*/_jsxDEV(GridActionsCellItem, {\n          icon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 21\n          }, this),\n          label: \"Save\",\n          onClick: handleSaveClick(id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(GridActionsCellItem, {\n          icon: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 21\n          }, this),\n          label: \"Cancel\",\n          className: \"textPrimary\",\n          onClick: handleCancelClick(id),\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)];\n      }\n      return [\n      /*#__PURE__*/\n      // <GridActionsCellItem\n      //   icon={<EditIcon />}\n      //   label=\"Edit\"\n      //   className=\"textPrimary\"\n      //   onClick={handleEditClick(id)}\n      //   color=\"inherit\"\n      // />,\n      _jsxDEV(GridActionsCellItem, {\n        icon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 19\n        }, this),\n        label: \"Delete\",\n        onClick: handleDeleteClick(id),\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, this)];\n    }\n  }];\n  let filteredItems = tableData.filter(function (item) {\n    return item.product_qty > 0;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      height: \"65vh\",\n      width: \"100%\",\n      align: \"center\",\n      stickyHeader: \"True\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        align: \"left\",\n        rowHeight: 50,\n        rowModesModel: rowModesModel,\n        onRowModesModelChange: newModel => setRowModesModel(newModel),\n        onRowEditStart: handleRowEditStart,\n        onRowEditStop: handleRowEditStop,\n        processRowUpdate: processRowUpdate,\n        rows: tableData // tableData or filteredItems or initialRows for testing\n        ,\n        columns: columns,\n        pageSize: 10,\n        rowsPerPageOptions: [5],\n        components: {\n          Toolbar: GridToolbar,\n          NoRowsOverlay: CustomNoRowsOverlay\n        },\n        componentsProps: {\n          toolbar: {\n            setRows,\n            setRowModesModel\n          }\n        },\n        experimentalFeatures: {\n          newEditingApi: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 430,\n    columnNumber: 5\n  }, this);\n}\n_s(ColumnTypesGrid, \"2539nTZgUP4jNigmTogmq1yrYxs=\", false, function () {\n  return [useNavigate];\n});\n_c4 = ColumnTypesGrid;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"StyledGridOverlay\");\n$RefreshReg$(_c2, \"CustomNoRowsOverlay\");\n$RefreshReg$(_c3, \"EditToolbar\");\n$RefreshReg$(_c4, \"ColumnTypesGrid\");","map":{"version":3,"names":["PropTypes","Box","Button","AddIcon","EditIcon","DeleteIcon","SaveIcon","CancelIcon","DataGrid","GridActionsCellItem","GridToolbar","GridRowModes","GridToolbarContainer","styled","moment","Redirect","Link","useNavigate","React","useState","useEffect","initialRows","product_id","qty","product_name","expiryDate","id","StyledGridOverlay","theme","display","flexDirection","alignItems","justifyContent","height","fill","palette","mode","fillOpacity","CustomNoRowsOverlay","mt","EditToolbar","props","setRows","setRowModesModel","handleClick","oldRows","product_qty","isNew","oldModel","Edit","fieldToFocus","propTypes","func","isRequired","ColumnTypesGrid","rowModesModel","navigate","tableData","setTableData","fetch","then","data","json","i","length","obj","Object","assign","rows","handleRowEditStart","params","event","defaultMuiPrevented","handleRowEditStop","handleEditClick","console","log","handleSaveClick","View","handleDeleteClick","at","filter","row","handleCancelClick","ignoreModifications","editedRow","find","processRowUpdate","newRow","updatedRow","map","tableData2","setTableData2","totalQty","currentDate","item1","item","item2","status","item3","expiry_date","isAfter","total","columns","field","headerName","description","width","headerAlign","align","renderCell","color","e","value","state","editable","type","valueGetter","sortable","cellClassName","getActions","isInEditMode","filteredItems","stickyHeader","newModel","Toolbar","NoRowsOverlay","toolbar","newEditingApi"],"sources":["/Users/clementd/Documents/GitHub/mrp_system/client/src/components/tables/productlistTable.jsx"],"sourcesContent":["//import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Box, Button } from \"@mui/material\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/DeleteOutlined\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport CancelIcon from \"@mui/icons-material/Close\";\r\nimport {\r\n  DataGrid,\r\n  GridActionsCellItem,\r\n  GridToolbar,\r\n  GridRowModes,\r\n  GridToolbarContainer,\r\n} from \"@mui/x-data-grid\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport moment from \"moment\";\r\n\r\nimport { Redirect, Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst initialRows = [\r\n  {\r\n    product_id: \"220203\",\r\n    qty: 1,\r\n    product_name: \"Nusil Si Adhesive*\",\r\n    expiryDate: \"26/01/2023\",\r\n    id: 12,\r\n  },\r\n  {\r\n    product_id: \"221002\",\r\n    qty: 3,\r\n    product_name: \"Nusil Si Adhesive*\",\r\n    expiryDate: \"06/10/2023\",\r\n    id: 11,\r\n  },\r\n  {\r\n    product_id: \"221103\",\r\n    qty: 2,\r\n    product_name: \"Nusil Si Adhesive*\",\r\n    expiryDate: \"01/06/2023\",\r\n    id: 10,\r\n  },\r\n  {\r\n    product_id: \"211001\",\r\n    qty: 1,\r\n    product_name: \"7mm ePTFE Graft 80cm roll\",\r\n    expiryDate: null,\r\n    id: 9,\r\n  },\r\n  {\r\n    product_id: \"220709\",\r\n    qty: 1,\r\n    product_name: \"7mm ePTFE Graft 80cm roll (sterilised)\",\r\n    expiryDate: null,\r\n    id: 8,\r\n  },\r\n  {\r\n    product_id: \"22070402\",\r\n    qty: 0,\r\n    product_name: \"Cut ePTFE Graft\",\r\n    expiryDate: null,\r\n    id: 7,\r\n  },\r\n  {\r\n    product_id: \"210703\",\r\n    qty: 6,\r\n    product_name: \"Polyester Felt\",\r\n    expiryDate: null,\r\n    id: 6,\r\n  },\r\n  {\r\n    product_id: \"220705\",\r\n    qty: 10,\r\n    product_name: \"Polyester Felt\",\r\n    expiryDate: null,\r\n    id: 5,\r\n  },\r\n  {\r\n    product_id: \"17032803\",\r\n    qty: 275,\r\n    product_name: \"Infection Cuff\",\r\n    expiryDate: null,\r\n    id: 4,\r\n  },\r\n  {\r\n    product_id: \"220716\",\r\n    qty: 0,\r\n    product_name: \"Liquid Si Elastomer\",\r\n    expiryDate: \"15/07/2023\",\r\n    id: 3,\r\n  },\r\n  {\r\n    product_id: \"220802\",\r\n    qty: 2,\r\n    product_name: \"Base Tube\",\r\n    expiryDate: null,\r\n    id: 2,\r\n  },\r\n  {\r\n    product_id: \"220909\",\r\n    qty: 103,\r\n    product_name: \"Overlay\",\r\n    expiryDate: null,\r\n    id: 1,\r\n  },\r\n];\r\n\r\nconst StyledGridOverlay = styled(\"div\")(({ theme }) => ({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  height: \"100%\",\r\n  \"& .ant-empty-img-1\": {\r\n    fill: theme.palette.mode === \"light\" ? \"#aeb8c2\" : \"#262626\",\r\n  },\r\n  \"& .ant-empty-img-2\": {\r\n    fill: theme.palette.mode === \"light\" ? \"#f5f5f7\" : \"#595959\",\r\n  },\r\n  \"& .ant-empty-img-3\": {\r\n    fill: theme.palette.mode === \"light\" ? \"#dce0e6\" : \"#434343\",\r\n  },\r\n  \"& .ant-empty-img-4\": {\r\n    fill: theme.palette.mode === \"light\" ? \"#fff\" : \"#1c1c1c\",\r\n  },\r\n  \"& .ant-empty-img-5\": {\r\n    fillOpacity: theme.palette.mode === \"light\" ? \"0.8\" : \"0.08\",\r\n    fill: theme.palette.mode === \"light\" ? \"#f5f5f5\" : \"#fff\",\r\n  },\r\n}));\r\n\r\nfunction CustomNoRowsOverlay() {\r\n  return (\r\n    <StyledGridOverlay>\r\n      <svg\r\n        width=\"120\"\r\n        height=\"100\"\r\n        viewBox=\"0 0 184 152\"\r\n        aria-hidden\r\n        focusable=\"false\"\r\n      >\r\n        <g fill=\"none\" fillRule=\"evenodd\">\r\n          <g transform=\"translate(24 31.67)\">\r\n            <ellipse\r\n              className=\"ant-empty-img-5\"\r\n              cx=\"67.797\"\r\n              cy=\"106.89\"\r\n              rx=\"67.797\"\r\n              ry=\"12.668\"\r\n            />\r\n            <path\r\n              className=\"ant-empty-img-1\"\r\n              d=\"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z\"\r\n            />\r\n            <path\r\n              className=\"ant-empty-img-2\"\r\n              d=\"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z\"\r\n            />\r\n            <path\r\n              className=\"ant-empty-img-3\"\r\n              d=\"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z\"\r\n            />\r\n          </g>\r\n          <path\r\n            className=\"ant-empty-img-3\"\r\n            d=\"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z\"\r\n          />\r\n          <g className=\"ant-empty-img-4\" transform=\"translate(149.65 15.383)\">\r\n            <ellipse cx=\"20.654\" cy=\"3.167\" rx=\"2.849\" ry=\"2.815\" />\r\n            <path d=\"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z\" />\r\n          </g>\r\n        </g>\r\n      </svg>\r\n      <Box sx={{ mt: 1 }}>No Rows</Box>\r\n    </StyledGridOverlay>\r\n  );\r\n}\r\n\r\nfunction EditToolbar(props) {\r\n  const { setRows, setRowModesModel } = props;\r\n\r\n  const handleClick = () => {\r\n    const id = 0;\r\n    setRows((oldRows) => [\r\n      ...oldRows,\r\n      { id, product_qty: \"\", product_name: \"\", isNew: true },\r\n    ]);\r\n    setRowModesModel((oldModel) => ({\r\n      ...oldModel,\r\n      [id]: { mode: GridRowModes.Edit, fieldToFocus: \"name\" },\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <GridToolbarContainer>\r\n      <Button color=\"primary\" startIcon={<AddIcon />} onClick={handleClick}>\r\n        Add record\r\n      </Button>\r\n    </GridToolbarContainer>\r\n  );\r\n}\r\n\r\nEditToolbar.propTypes = {\r\n  setRowModesModel: PropTypes.func.isRequired,\r\n  setRows: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default function ColumnTypesGrid() {\r\n  const [rowModesModel, setRowModesModel] = React.useState({});\r\n\r\n  const navigate = useNavigate();\r\n  const [tableData, setTableData] = useState([]);\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:3002/product/view\")\r\n      .then((data) => data.json())\r\n      .then((data) => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          var obj = data[i];\r\n          Object.assign(obj, { [\"id\"]: i });\r\n          data[i] = obj;\r\n          initialRows[i] = obj;\r\n        }\r\n\r\n        setTableData(data);\r\n      });\r\n  }, []);\r\n  const [rows, setRows] = React.useState(initialRows);\r\n\r\n  const handleRowEditStart = (params, event) => {\r\n    event.defaultMuiPrevented = true;\r\n  };\r\n\r\n  const handleRowEditStop = (params, event) => {\r\n    event.defaultMuiPrevented = true;\r\n  };\r\n\r\n  const handleEditClick = (id) => () => {\r\n    console.log(\"edit \" + id);\r\n    setRowModesModel({ ...rowModesModel, [id]: { mode: GridRowModes.Edit } });\r\n  };\r\n\r\n  const handleSaveClick = (id) => () => {\r\n    console.log(\"save \" + id);\r\n    setRowModesModel({ ...rowModesModel, [id]: { mode: GridRowModes.View } });\r\n  };\r\n\r\n  const handleDeleteClick = (id) => () => {\r\n    console.log(\"delete \" + id);\r\n    console.log(rows.at(id));\r\n    setRows(rows.filter((row) => row.id !== id));\r\n  };\r\n\r\n  const handleCancelClick = (id) => () => {\r\n    setRowModesModel({\r\n      ...rowModesModel,\r\n      [id]: { mode: GridRowModes.View, ignoreModifications: true },\r\n    });\r\n\r\n    const editedRow = rows.find((row) => row.product_id === id);\r\n    if (editedRow.isNew) {\r\n      setRows(rows.filter((row) => row.product_id !== id));\r\n    }\r\n  };\r\n\r\n  const processRowUpdate = (newRow) => {\r\n    const updatedRow = { ...newRow, isNew: false };\r\n    setRows(\r\n      rows.map((row) =>\r\n        row.product_id === newRow.product_id ? updatedRow : row\r\n      )\r\n    );\r\n    return updatedRow;\r\n  };\r\n\r\n  const [tableData2, setTableData2] = useState([]);\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:3002/productlot/view/\")\r\n      .then((data) => data.json())\r\n      .then((data) => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          var obj = data[i];\r\n          Object.assign(obj, { [\"id\"]: i });\r\n          delete Object.assign(obj, { [\"id\"]: obj[\"notes\"] })[\"notes\"];\r\n          delete Object.assign(obj, { [\"id\"]: obj[\"lot_no\"] })[\"lot_no\"];\r\n          data[i] = obj;\r\n        }\r\n\r\n        // let item1 = tableData2.filter((item) => item.product_id === \"22217\");\r\n        // let total = 0;\r\n        // for (let i = 0; i < item1.length; i++) {\r\n        //   total += item1[i].qty;\r\n        // }\r\n\r\n        setTableData2(data);\r\n      });\r\n  }, []);\r\n\r\n  function totalQty(params) {\r\n    const currentDate = moment();\r\n    let item1 = tableData2.filter(\r\n      (item) => item.product_id === params.row.product_id\r\n      // (item) => item.status === \"Final Release\"\r\n    );\r\n    let item2 = item1.filter((item) => item.status === \"Final Release\");\r\n    let item3 = item2.filter((item) =>\r\n      moment(item.expiry_date, \"DD/MM/YYYY\").isAfter(currentDate)\r\n    );\r\n    let total = 0;\r\n    for (let i = 0; i < item3.length; i++) {\r\n      total += item3[i].qty;\r\n    }\r\n    return total;\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      field: \"product_id\",\r\n      headerName: \"Product No.\",\r\n      description: \"Product number\",\r\n      width: 200,\r\n      headerAlign: \"center\",\r\n      align: \"center\",\r\n\r\n      renderCell: (params) => (\r\n        <a\r\n          style={{ color: \"#0d6efd\" }}\r\n          onClick={(e) =>\r\n            navigate(`/product/${params.value}`, {\r\n              state: {\r\n                product_name: params.row.product_name,\r\n                product_id: params.row.product_id,\r\n              },\r\n            })\r\n          }\r\n        >\r\n          {params.value}\r\n        </a>\r\n      ),\r\n    },\r\n    {\r\n      headerAlign: \"center\",\r\n      align: \"center\",\r\n      field: \"product_name\",\r\n      headerName: \"Product Name\",\r\n      width: 320,\r\n      editable: true,\r\n    },\r\n    {\r\n      field: \"variant\",\r\n      headerName: \"Variant\",\r\n      width: 130,\r\n      headerAlign: \"center\",\r\n      align: \"center\",\r\n      editable: true,\r\n    },\r\n    {\r\n      field: \"total\",\r\n      headerName: \"Total Quantity\",\r\n      type: \"number\",\r\n      width: 130,\r\n      headerAlign: \"center\",\r\n      align: \"center\",\r\n      editable: true,\r\n      valueGetter: (params) => {\r\n        return totalQty(params);\r\n      },\r\n    },\r\n\r\n    {\r\n      field: \"notes\",\r\n      headerName: \"Notes\",\r\n      sortable: false,\r\n      width: 180,\r\n      editable: true,\r\n      headerAlign: \"center\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      field: \"actions\",\r\n      type: \"actions\",\r\n      headerName: \"Actions\",\r\n      width: 100,\r\n      cellClassName: \"actions\",\r\n      getActions: ({ id }) => {\r\n        const isInEditMode = rowModesModel[id]?.mode === GridRowModes.Edit;\r\n\r\n        if (isInEditMode) {\r\n          return [\r\n            <GridActionsCellItem\r\n              icon={<SaveIcon />}\r\n              label=\"Save\"\r\n              onClick={handleSaveClick(id)}\r\n            />,\r\n            <GridActionsCellItem\r\n              icon={<CancelIcon />}\r\n              label=\"Cancel\"\r\n              className=\"textPrimary\"\r\n              onClick={handleCancelClick(id)}\r\n              color=\"inherit\"\r\n            />,\r\n          ];\r\n        }\r\n\r\n        return [\r\n          // <GridActionsCellItem\r\n          //   icon={<EditIcon />}\r\n          //   label=\"Edit\"\r\n          //   className=\"textPrimary\"\r\n          //   onClick={handleEditClick(id)}\r\n          //   color=\"inherit\"\r\n          // />,\r\n          <GridActionsCellItem\r\n            icon={<DeleteIcon />}\r\n            label=\"Delete\"\r\n            onClick={handleDeleteClick(id)}\r\n            color=\"inherit\"\r\n          />,\r\n        ];\r\n      },\r\n    },\r\n  ];\r\n\r\n  let filteredItems = tableData.filter(function (item) {\r\n    return item.product_qty > 0;\r\n  });\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        height: \"65vh\",\r\n        width: \"100%\",\r\n        align: \"center\",\r\n        stickyHeader: \"True\",\r\n      }}\r\n    >\r\n      <Box sx={{ width: \"100%\", height: \"100%\" }}>\r\n        <DataGrid\r\n          align=\"left\"\r\n          rowHeight={50}\r\n          rowModesModel={rowModesModel}\r\n          onRowModesModelChange={(newModel) => setRowModesModel(newModel)}\r\n          onRowEditStart={handleRowEditStart}\r\n          onRowEditStop={handleRowEditStop}\r\n          processRowUpdate={processRowUpdate}\r\n          rows={tableData} // tableData or filteredItems or initialRows for testing\r\n          columns={columns}\r\n          pageSize={10}\r\n          rowsPerPageOptions={[5]}\r\n          components={{\r\n            Toolbar: GridToolbar,\r\n            NoRowsOverlay: CustomNoRowsOverlay,\r\n          }}\r\n          componentsProps={{\r\n            toolbar: { setRows, setRowModesModel },\r\n          }}\r\n          experimentalFeatures={{ newEditingApi: true }}\r\n        />\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,SAAS,MAAM,YAAY;AAClC,SAASC,GAAG,EAAEC,MAAM,QAAQ,eAAe;AAC3C,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,UAAU,MAAM,oCAAoC;AAC3D,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,UAAU,MAAM,2BAA2B;AAClD,SACEC,QAAQ,EACRC,mBAAmB,EACnBC,WAAW,EACXC,YAAY,EACZC,oBAAoB,QACf,kBAAkB;AACzB,SAASC,MAAM,QAAQ,sBAAsB;AAC7C,OAAOC,MAAM,MAAM,QAAQ;AAE3B,SAASC,QAAQ,EAAEC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AAE9D,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAEnD,MAAMC,WAAW,GAAG,CAClB;EACEC,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,oBAAoB;EAClCC,UAAU,EAAE,YAAY;EACxBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,oBAAoB;EAClCC,UAAU,EAAE,YAAY;EACxBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,oBAAoB;EAClCC,UAAU,EAAE,YAAY;EACxBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,2BAA2B;EACzCC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,wCAAwC;EACtDC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,UAAU;EACtBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,iBAAiB;EAC/BC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,gBAAgB;EAC9BC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,EAAE;EACPC,YAAY,EAAE,gBAAgB;EAC9BC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,UAAU;EACtBC,GAAG,EAAE,GAAG;EACRC,YAAY,EAAE,gBAAgB;EAC9BC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,qBAAqB;EACnCC,UAAU,EAAE,YAAY;EACxBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,CAAC;EACNC,YAAY,EAAE,WAAW;EACzBC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,EACD;EACEJ,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,GAAG;EACRC,YAAY,EAAE,SAAS;EACvBC,UAAU,EAAE,IAAI;EAChBC,EAAE,EAAE;AACN,CAAC,CACF;AAED,MAAMC,iBAAiB,GAAGd,MAAM,CAAC,KAAK,CAAC,CAAC;EAAA,IAAC;IAAEe;EAAM,CAAC;EAAA,OAAM;IACtDC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBC,MAAM,EAAE,MAAM;IACd,oBAAoB,EAAE;MACpBC,IAAI,EAAEN,KAAK,CAACO,OAAO,CAACC,IAAI,KAAK,OAAO,GAAG,SAAS,GAAG;IACrD,CAAC;IACD,oBAAoB,EAAE;MACpBF,IAAI,EAAEN,KAAK,CAACO,OAAO,CAACC,IAAI,KAAK,OAAO,GAAG,SAAS,GAAG;IACrD,CAAC;IACD,oBAAoB,EAAE;MACpBF,IAAI,EAAEN,KAAK,CAACO,OAAO,CAACC,IAAI,KAAK,OAAO,GAAG,SAAS,GAAG;IACrD,CAAC;IACD,oBAAoB,EAAE;MACpBF,IAAI,EAAEN,KAAK,CAACO,OAAO,CAACC,IAAI,KAAK,OAAO,GAAG,MAAM,GAAG;IAClD,CAAC;IACD,oBAAoB,EAAE;MACpBC,WAAW,EAAET,KAAK,CAACO,OAAO,CAACC,IAAI,KAAK,OAAO,GAAG,KAAK,GAAG,MAAM;MAC5DF,IAAI,EAAEN,KAAK,CAACO,OAAO,CAACC,IAAI,KAAK,OAAO,GAAG,SAAS,GAAG;IACrD;EACF,CAAC;AAAA,CAAC,CAAC;AAAC,KAtBET,iBAAiB;AAwBvB,SAASW,mBAAmB,GAAG;EAC7B,oBACE,QAAC,iBAAiB;IAAA,wBAChB;MACE,KAAK,EAAC,KAAK;MACX,MAAM,EAAC,KAAK;MACZ,OAAO,EAAC,aAAa;MACrB,mBAAW;MACX,SAAS,EAAC,OAAO;MAAA,uBAEjB;QAAG,IAAI,EAAC,MAAM;QAAC,QAAQ,EAAC,SAAS;QAAA,wBAC/B;UAAG,SAAS,EAAC,qBAAqB;UAAA,wBAChC;YACE,SAAS,EAAC,iBAAiB;YAC3B,EAAE,EAAC,QAAQ;YACX,EAAE,EAAC,QAAQ;YACX,EAAE,EAAC,QAAQ;YACX,EAAE,EAAC;UAAQ;YAAA;YAAA;YAAA;UAAA,QACX,eACF;YACE,SAAS,EAAC,iBAAiB;YAC3B,CAAC,EAAC;UAA8I;YAAA;YAAA;YAAA;UAAA,QAChJ,eACF;YACE,SAAS,EAAC,iBAAiB;YAC3B,CAAC,EAAC;UAAyF;YAAA;YAAA;YAAA;UAAA,QAC3F,eACF;YACE,SAAS,EAAC,iBAAiB;YAC3B,CAAC,EAAC;UAAsjB;YAAA;YAAA;YAAA;UAAA,QACxjB;QAAA;UAAA;UAAA;UAAA;QAAA,QACA,eACJ;UACE,SAAS,EAAC,iBAAiB;UAC3B,CAAC,EAAC;QAAwO;UAAA;UAAA;UAAA;QAAA,QAC1O,eACF;UAAG,SAAS,EAAC,iBAAiB;UAAC,SAAS,EAAC,0BAA0B;UAAA,wBACjE;YAAS,EAAE,EAAC,QAAQ;YAAC,EAAE,EAAC,OAAO;YAAC,EAAE,EAAC,OAAO;YAAC,EAAE,EAAC;UAAO;YAAA;YAAA;YAAA;UAAA,QAAG,eACxD;YAAM,CAAC,EAAC;UAAsD;YAAA;YAAA;YAAA;UAAA,QAAG;QAAA;UAAA;UAAA;UAAA;QAAA,QAC/D;MAAA;QAAA;QAAA;QAAA;MAAA;IACF;MAAA;MAAA;MAAA;IAAA,QACA,eACN,QAAC,GAAG;MAAC,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAA,UAAC;IAAO;MAAA;MAAA;MAAA;IAAA,QAAM;EAAA;IAAA;IAAA;IAAA;EAAA,QACf;AAExB;AAAC,MA7CQD,mBAAmB;AA+C5B,SAASE,WAAW,CAACC,KAAK,EAAE;EAC1B,MAAM;IAAEC,OAAO;IAAEC;EAAiB,CAAC,GAAGF,KAAK;EAE3C,MAAMG,WAAW,GAAG,MAAM;IACxB,MAAMlB,EAAE,GAAG,CAAC;IACZgB,OAAO,CAAEG,OAAO,IAAK,CACnB,GAAGA,OAAO,EACV;MAAEnB,EAAE;MAAEoB,WAAW,EAAE,EAAE;MAAEtB,YAAY,EAAE,EAAE;MAAEuB,KAAK,EAAE;IAAK,CAAC,CACvD,CAAC;IACFJ,gBAAgB,CAAEK,QAAQ,KAAM;MAC9B,GAAGA,QAAQ;MACX,CAACtB,EAAE,GAAG;QAAEU,IAAI,EAAEzB,YAAY,CAACsC,IAAI;QAAEC,YAAY,EAAE;MAAO;IACxD,CAAC,CAAC,CAAC;EACL,CAAC;EAED,oBACE,QAAC,oBAAoB;IAAA,uBACnB,QAAC,MAAM;MAAC,KAAK,EAAC,SAAS;MAAC,SAAS,eAAE,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAI;MAAC,OAAO,EAAEN,WAAY;MAAA,UAAC;IAEtE;MAAA;MAAA;MAAA;IAAA;EAAS;IAAA;IAAA;IAAA;EAAA,QACY;AAE3B;AAAC,MAtBQJ,WAAW;AAwBpBA,WAAW,CAACW,SAAS,GAAG;EACtBR,gBAAgB,EAAE3C,SAAS,CAACoD,IAAI,CAACC,UAAU;EAC3CX,OAAO,EAAE1C,SAAS,CAACoD,IAAI,CAACC;AAC1B,CAAC;AAED,eAAe,SAASC,eAAe,GAAG;EAAA;EACxC,MAAM,CAACC,aAAa,EAAEZ,gBAAgB,CAAC,GAAGzB,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE5D,MAAMqC,QAAQ,GAAGvC,WAAW,EAAE;EAC9B,MAAM,CAACwC,SAAS,EAAEC,YAAY,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAC9CC,SAAS,CAAC,MAAM;IACduC,KAAK,CAAC,oCAAoC,CAAC,CACxCC,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,EAAE,CAAC,CAC3BF,IAAI,CAAEC,IAAI,IAAK;MACd,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;QACpC,IAAIE,GAAG,GAAGJ,IAAI,CAACE,CAAC,CAAC;QACjBG,MAAM,CAACC,MAAM,CAACF,GAAG,EAAE;UAAE,CAAC,IAAI,GAAGF;QAAE,CAAC,CAAC;QACjCF,IAAI,CAACE,CAAC,CAAC,GAAGE,GAAG;QACb5C,WAAW,CAAC0C,CAAC,CAAC,GAAGE,GAAG;MACtB;MAEAP,YAAY,CAACG,IAAI,CAAC;IACpB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,MAAM,CAACO,IAAI,EAAE1B,OAAO,CAAC,GAAGxB,KAAK,CAACC,QAAQ,CAACE,WAAW,CAAC;EAEnD,MAAMgD,kBAAkB,GAAG,CAACC,MAAM,EAAEC,KAAK,KAAK;IAC5CA,KAAK,CAACC,mBAAmB,GAAG,IAAI;EAClC,CAAC;EAED,MAAMC,iBAAiB,GAAG,CAACH,MAAM,EAAEC,KAAK,KAAK;IAC3CA,KAAK,CAACC,mBAAmB,GAAG,IAAI;EAClC,CAAC;EAED,MAAME,eAAe,GAAIhD,EAAE,IAAK,MAAM;IACpCiD,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGlD,EAAE,CAAC;IACzBiB,gBAAgB,CAAC;MAAE,GAAGY,aAAa;MAAE,CAAC7B,EAAE,GAAG;QAAEU,IAAI,EAAEzB,YAAY,CAACsC;MAAK;IAAE,CAAC,CAAC;EAC3E,CAAC;EAED,MAAM4B,eAAe,GAAInD,EAAE,IAAK,MAAM;IACpCiD,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGlD,EAAE,CAAC;IACzBiB,gBAAgB,CAAC;MAAE,GAAGY,aAAa;MAAE,CAAC7B,EAAE,GAAG;QAAEU,IAAI,EAAEzB,YAAY,CAACmE;MAAK;IAAE,CAAC,CAAC;EAC3E,CAAC;EAED,MAAMC,iBAAiB,GAAIrD,EAAE,IAAK,MAAM;IACtCiD,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGlD,EAAE,CAAC;IAC3BiD,OAAO,CAACC,GAAG,CAACR,IAAI,CAACY,EAAE,CAACtD,EAAE,CAAC,CAAC;IACxBgB,OAAO,CAAC0B,IAAI,CAACa,MAAM,CAAEC,GAAG,IAAKA,GAAG,CAACxD,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC9C,CAAC;EAED,MAAMyD,iBAAiB,GAAIzD,EAAE,IAAK,MAAM;IACtCiB,gBAAgB,CAAC;MACf,GAAGY,aAAa;MAChB,CAAC7B,EAAE,GAAG;QAAEU,IAAI,EAAEzB,YAAY,CAACmE,IAAI;QAAEM,mBAAmB,EAAE;MAAK;IAC7D,CAAC,CAAC;IAEF,MAAMC,SAAS,GAAGjB,IAAI,CAACkB,IAAI,CAAEJ,GAAG,IAAKA,GAAG,CAAC5D,UAAU,KAAKI,EAAE,CAAC;IAC3D,IAAI2D,SAAS,CAACtC,KAAK,EAAE;MACnBL,OAAO,CAAC0B,IAAI,CAACa,MAAM,CAAEC,GAAG,IAAKA,GAAG,CAAC5D,UAAU,KAAKI,EAAE,CAAC,CAAC;IACtD;EACF,CAAC;EAED,MAAM6D,gBAAgB,GAAIC,MAAM,IAAK;IACnC,MAAMC,UAAU,GAAG;MAAE,GAAGD,MAAM;MAAEzC,KAAK,EAAE;IAAM,CAAC;IAC9CL,OAAO,CACL0B,IAAI,CAACsB,GAAG,CAAER,GAAG,IACXA,GAAG,CAAC5D,UAAU,KAAKkE,MAAM,CAAClE,UAAU,GAAGmE,UAAU,GAAGP,GAAG,CACxD,CACF;IACD,OAAOO,UAAU;EACnB,CAAC;EAED,MAAM,CAACE,UAAU,EAAEC,aAAa,CAAC,GAAGzE,QAAQ,CAAC,EAAE,CAAC;EAChDC,SAAS,CAAC,MAAM;IACduC,KAAK,CAAC,wCAAwC,CAAC,CAC5CC,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,EAAE,CAAC,CAC3BF,IAAI,CAAEC,IAAI,IAAK;MACd,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;QACpC,IAAIE,GAAG,GAAGJ,IAAI,CAACE,CAAC,CAAC;QACjBG,MAAM,CAACC,MAAM,CAACF,GAAG,EAAE;UAAE,CAAC,IAAI,GAAGF;QAAE,CAAC,CAAC;QACjC,OAAOG,MAAM,CAACC,MAAM,CAACF,GAAG,EAAE;UAAE,CAAC,IAAI,GAAGA,GAAG,CAAC,OAAO;QAAE,CAAC,CAAC,CAAC,OAAO,CAAC;QAC5D,OAAOC,MAAM,CAACC,MAAM,CAACF,GAAG,EAAE;UAAE,CAAC,IAAI,GAAGA,GAAG,CAAC,QAAQ;QAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;QAC9DJ,IAAI,CAACE,CAAC,CAAC,GAAGE,GAAG;MACf;;MAEA;MACA;MACA;MACA;MACA;;MAEA2B,aAAa,CAAC/B,IAAI,CAAC;IACrB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,SAASgC,QAAQ,CAACvB,MAAM,EAAE;IACxB,MAAMwB,WAAW,GAAGhF,MAAM,EAAE;IAC5B,IAAIiF,KAAK,GAAGJ,UAAU,CAACV,MAAM,CAC1Be,IAAI,IAAKA,IAAI,CAAC1E,UAAU,KAAKgD,MAAM,CAACY,GAAG,CAAC5D;IACzC;IAAA,CACD;;IACD,IAAI2E,KAAK,GAAGF,KAAK,CAACd,MAAM,CAAEe,IAAI,IAAKA,IAAI,CAACE,MAAM,KAAK,eAAe,CAAC;IACnE,IAAIC,KAAK,GAAGF,KAAK,CAAChB,MAAM,CAAEe,IAAI,IAC5BlF,MAAM,CAACkF,IAAI,CAACI,WAAW,EAAE,YAAY,CAAC,CAACC,OAAO,CAACP,WAAW,CAAC,CAC5D;IACD,IAAIQ,KAAK,GAAG,CAAC;IACb,KAAK,IAAIvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoC,KAAK,CAACnC,MAAM,EAAED,CAAC,EAAE,EAAE;MACrCuC,KAAK,IAAIH,KAAK,CAACpC,CAAC,CAAC,CAACxC,GAAG;IACvB;IACA,OAAO+E,KAAK;EACd;EAEA,MAAMC,OAAO,GAAG,CACd;IACEC,KAAK,EAAE,YAAY;IACnBC,UAAU,EAAE,aAAa;IACzBC,WAAW,EAAE,gBAAgB;IAC7BC,KAAK,EAAE,GAAG;IACVC,WAAW,EAAE,QAAQ;IACrBC,KAAK,EAAE,QAAQ;IAEfC,UAAU,EAAGxC,MAAM,iBACjB;MACE,KAAK,EAAE;QAAEyC,KAAK,EAAE;MAAU,CAAE;MAC5B,OAAO,EAAGC,CAAC,IACTxD,QAAQ,CAAE,YAAWc,MAAM,CAAC2C,KAAM,EAAC,EAAE;QACnCC,KAAK,EAAE;UACL1F,YAAY,EAAE8C,MAAM,CAACY,GAAG,CAAC1D,YAAY;UACrCF,UAAU,EAAEgD,MAAM,CAACY,GAAG,CAAC5D;QACzB;MACF,CAAC,CACF;MAAA,UAEAgD,MAAM,CAAC2C;IAAK;MAAA;MAAA;MAAA;IAAA;EAGnB,CAAC,EACD;IACEL,WAAW,EAAE,QAAQ;IACrBC,KAAK,EAAE,QAAQ;IACfL,KAAK,EAAE,cAAc;IACrBC,UAAU,EAAE,cAAc;IAC1BE,KAAK,EAAE,GAAG;IACVQ,QAAQ,EAAE;EACZ,CAAC,EACD;IACEX,KAAK,EAAE,SAAS;IAChBC,UAAU,EAAE,SAAS;IACrBE,KAAK,EAAE,GAAG;IACVC,WAAW,EAAE,QAAQ;IACrBC,KAAK,EAAE,QAAQ;IACfM,QAAQ,EAAE;EACZ,CAAC,EACD;IACEX,KAAK,EAAE,OAAO;IACdC,UAAU,EAAE,gBAAgB;IAC5BW,IAAI,EAAE,QAAQ;IACdT,KAAK,EAAE,GAAG;IACVC,WAAW,EAAE,QAAQ;IACrBC,KAAK,EAAE,QAAQ;IACfM,QAAQ,EAAE,IAAI;IACdE,WAAW,EAAG/C,MAAM,IAAK;MACvB,OAAOuB,QAAQ,CAACvB,MAAM,CAAC;IACzB;EACF,CAAC,EAED;IACEkC,KAAK,EAAE,OAAO;IACdC,UAAU,EAAE,OAAO;IACnBa,QAAQ,EAAE,KAAK;IACfX,KAAK,EAAE,GAAG;IACVQ,QAAQ,EAAE,IAAI;IACdP,WAAW,EAAE,QAAQ;IACrBC,KAAK,EAAE;EACT,CAAC,EACD;IACEL,KAAK,EAAE,SAAS;IAChBY,IAAI,EAAE,SAAS;IACfX,UAAU,EAAE,SAAS;IACrBE,KAAK,EAAE,GAAG;IACVY,aAAa,EAAE,SAAS;IACxBC,UAAU,EAAE,SAAY;MAAA;MAAA,IAAX;QAAE9F;MAAG,CAAC;MACjB,MAAM+F,YAAY,GAAG,sBAAAlE,aAAa,CAAC7B,EAAE,CAAC,sDAAjB,kBAAmBU,IAAI,MAAKzB,YAAY,CAACsC,IAAI;MAElE,IAAIwE,YAAY,EAAE;QAChB,OAAO,cACL,QAAC,mBAAmB;UAClB,IAAI,eAAE,QAAC,QAAQ;YAAA;YAAA;YAAA;UAAA,QAAI;UACnB,KAAK,EAAC,MAAM;UACZ,OAAO,EAAE5C,eAAe,CAACnD,EAAE;QAAE;UAAA;UAAA;UAAA;QAAA,QAC7B,eACF,QAAC,mBAAmB;UAClB,IAAI,eAAE,QAAC,UAAU;YAAA;YAAA;YAAA;UAAA,QAAI;UACrB,KAAK,EAAC,QAAQ;UACd,SAAS,EAAC,aAAa;UACvB,OAAO,EAAEyD,iBAAiB,CAACzD,EAAE,CAAE;UAC/B,KAAK,EAAC;QAAS;UAAA;UAAA;UAAA;QAAA,QACf,CACH;MACH;MAEA,OAAO;MAAA;MACL;MACA;MACA;MACA;MACA;MACA;MACA;MACA,QAAC,mBAAmB;QAClB,IAAI,eAAE,QAAC,UAAU;UAAA;UAAA;UAAA;QAAA,QAAI;QACrB,KAAK,EAAC,QAAQ;QACd,OAAO,EAAEqD,iBAAiB,CAACrD,EAAE,CAAE;QAC/B,KAAK,EAAC;MAAS;QAAA;QAAA;QAAA;MAAA,QACf,CACH;IACH;EACF,CAAC,CACF;EAED,IAAIgG,aAAa,GAAGjE,SAAS,CAACwB,MAAM,CAAC,UAAUe,IAAI,EAAE;IACnD,OAAOA,IAAI,CAAClD,WAAW,GAAG,CAAC;EAC7B,CAAC,CAAC;EAEF,oBACE;IACE,KAAK,EAAE;MACLjB,OAAO,EAAE,MAAM;MACfI,MAAM,EAAE,MAAM;MACd0E,KAAK,EAAE,MAAM;MACbE,KAAK,EAAE,QAAQ;MACfc,YAAY,EAAE;IAChB,CAAE;IAAA,uBAEF,QAAC,GAAG;MAAC,EAAE,EAAE;QAAEhB,KAAK,EAAE,MAAM;QAAE1E,MAAM,EAAE;MAAO,CAAE;MAAA,uBACzC,QAAC,QAAQ;QACP,KAAK,EAAC,MAAM;QACZ,SAAS,EAAE,EAAG;QACd,aAAa,EAAEsB,aAAc;QAC7B,qBAAqB,EAAGqE,QAAQ,IAAKjF,gBAAgB,CAACiF,QAAQ,CAAE;QAChE,cAAc,EAAEvD,kBAAmB;QACnC,aAAa,EAAEI,iBAAkB;QACjC,gBAAgB,EAAEc,gBAAiB;QACnC,IAAI,EAAE9B,SAAU,CAAC;QAAA;QACjB,OAAO,EAAE8C,OAAQ;QACjB,QAAQ,EAAE,EAAG;QACb,kBAAkB,EAAE,CAAC,CAAC,CAAE;QACxB,UAAU,EAAE;UACVsB,OAAO,EAAEnH,WAAW;UACpBoH,aAAa,EAAExF;QACjB,CAAE;QACF,eAAe,EAAE;UACfyF,OAAO,EAAE;YAAErF,OAAO;YAAEC;UAAiB;QACvC,CAAE;QACF,oBAAoB,EAAE;UAAEqF,aAAa,EAAE;QAAK;MAAE;QAAA;QAAA;QAAA;MAAA;IAC9C;MAAA;MAAA;MAAA;IAAA;EACE;IAAA;IAAA;IAAA;EAAA,QACF;AAEV;AAAC,GA9PuB1E,eAAe;EAAA,QAGpBrC,WAAW;AAAA;AAAA,MAHNqC,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}